{% extends 'base.html' %}

{% block content %}
{% if status == 'exception' %}
<div class="alert alert-danger" role="alert" id="alert">
    <i class="fa-solid fa-triangle-exclamation"></i> An error occurred while saving changes. Exception: {{ message|default('-') }}
</div>
{% endif %}
<div class="container-fluid" style="width: 90%; padding-bottom: 48px;">
    <span><a href="/devices" class="btn btn-secondary float-end">Back to Devices</a></span>
    <h2>
        Add New Device
    </h2>
    <hr>
    <form id="deviceForm" method="POST">
        <div class="row">
            <h1>Device Information</h1>
        </div>
        <div class="row">
            <div class="col mb-3">
                <label for="serial_number" class="form-label">Serial Number</label>
                <input type="text" class="form-control" id="serial_number" name="serial_number" required>
                <div class="form-text">
                    <b>The serial number of the device generated and assigned by the manufacturer.</b><br>
                    This is a unique identifier for the device.<br>
                    If the device is custom-built, set this to the serial number of the motherboard or the chassis if available.<br>
                    If the device does not have a serial number, create a unique identifier for the device.
                </div>
            </div>
            <div class="col mb-3">
                <label for="purchase_date" class="form-label">Purchase Date</label>
                <input type="date" class="form-control" id="purchase_date" name="purchase_date" required>
                <div class="form-text">
                    <b>The date when the device was purchased according to the receipt.</b><br>
                    This is the date when the device was bought and not the date when it was received.<br>
                    If the device is a custom-built, set this to the date when the device is assembled.
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col mb-3">
                <label for="type" class="form-label">Type</label>
                <select class="form-select" id="type" name="type" required>
                    <option value="Laptop">Laptop</option>
                    <option value="Desktop">Desktop/Tower</option>
                    <option value="All-in-One">All-in-One</option>
                    <option value="Tablet">Tablet</option>
                    <option value="Smartphone">Smartphone</option>
                    <option value="Server">Server</option>
                    <option value="Other">Other</option>
                </select>
                <div class="form-text">
                    Set this to the <b>type of the device</b> being added.<br>
                    <i>Note: A server suggests a device that is used to provide services to other devices on the network regardless of the form factor.</i>
                </div>
            </div>
            <div class="col mb-3">
                <label for="brand" class="form-label">Brand</label>
                <input type="text" class="form-control" id="brand" name="brand" required>
                <div class="form-text">
                    <b>The brand of the device.</b><br>
                    e.g. Asus, Dell, HP, Lenovo, Apple, Samsung.<br>
                    If the device is custom-built, enter the name of the shop that assembled it or set it to "Custom" if built internally.
                </div>
            </div>
            <div class="col mb-3">
                <label for="model" class="form-label">Model</label>
                <input type="text" class="form-control" id="model" name="model" required>
                <div class="form-text">
                    <b>The full model of the device including the SKU code.</b><br>
                    e.g. Vivobook Pro 15 OLED M6500QC, IdeaPad 3 14IAU7-82RJ00CUID.<br>
                    If the device is custom-built, enter the model name as assigned by the shop or set it to "Custom" if built internally.
                </div>
            </div>
            <div class="col mb-3">
                <label for="operating_system" class="form-label">Operating System</label>
                <select class="form-select" id="operating_system" name="operating_system" required>
                    <option value="Windows 11">Windows 11</option>
                    <option value="Windows">Windows 10 or earlier</option>
                    <option value="macOS">macOS</option>
                    <option value="Linux">Linux</option>
                    <option value="Chrome OS">Chrome OS</option>
                    <option value="iOS">iOS</option>
                    <option value="Android">Android</option>
                </select>
                <div class="form-text">
                    <b>The Operating System installed in the device at the time of provisioning.</b><br>
                    Remember not to set this to the operating system that it came in at the time of purchase.
                </div>
            </div>
        </div>
        <hr>
        <h3>Hardware Information</h3>
        <h5><i class="fa-solid fa-microchip"></i> Processor</h5>
        <div class="row">
            <div class="col mb-3">
                <label for="cpu" class="form-label">CPU</label>
                <input type="text" class="form-control" id="cpu" name="cpu" required>
                <div class="form-text"><b>Include the brand and the full model name but do not include the clock speed and other details.</b><br>e.g. Intel Core i5-1135G7, AMD Ryzen 7 5800X.</div>
            </div>
            <div class="col mb-3">
                <label for="gpu" class="form-label">GPU</label>
                <input type="text" class="form-control" id="gpu" name="gpu">
                <div class="form-text"><b>Include the brand and the full model name but do not include the clock speed and other details.</b><br>e.g. NVIDIA GeForce RTX 3060, AMD Radeon RX 6800 XT.</div>
            </div>
        </div>
        <h5><i class="fa-solid fa-memory"></i> Memory</h5>
        <div class="row">
            <div class="col mb-3">
                <label for="physical_mem_type" class="form-label">Type</label>
                <input type="text" class="form-control" id="physical_mem_type" name="physical_mem_type" required>
                <div class="form-text"><b>Include the type, speed, and whether it is slotted or soldered.</b><br>e.g. DDR4/2400/Slotted, DDR4L/3200/Soldered. </div>
            </div>
            <div class="col mb-3">
                <label for="physical_mem_size_gb" class="form-label">Size</label>
                <div class="input-group">
                    <input type="number" class="form-control" id="physical_mem_size_gb" name="physical_mem_size_gb" required>
                    <span class="input-group-text">GB</span>
                </div>
                <div class="form-text">Set this to the <b>total amount of RAM installed</b> in the device.</div>
            </div>
            <div class="col mb-3">
                <label for="physical_mem_slots" class="form-label">RAM Slots</label>
                <input type="number" class="form-control" id="physical_mem_slots" name="physical_mem_slots" value="0" required>
                <div class="form-text">If the RAM is soldered and has no extra slots for expansion, set this to 0. Else, if there are slots for expansion, set this to the total number of slots available.</div>
            </div>
            <div class="col mb-3">
                <label for="physical_mem_slots_used" class="form-label">RAM Slots Used</label>
                <input type="number" class="form-control" id="physical_mem_slots_used" name="physical_mem_slots_used" value="0" required>
                <div class="form-text">Set this to the number of slots that are currently used. The soldered RAM is not counted.</div>
            </div>
        </div>
        <h5><i class="fa-solid fa-hard-drive"></i> Storage</h5>
        <div class="row">
            <div class="col mb-3">
                <label for="storage_type" class="form-label">Type</label>
                <select class="form-select" id="storage_type" name="storage_type" required>
                    <option value="3.5/HDD">3.5/HDD</option>
                    <option value="2.5/HDD">2.5/HDD</option>
                    <option value="2.5/SSD">2.5/SSD</option>
                    <option value="M.2/NVMe">M.2/NVMe</option>
                    <option value="M.2/SATA">M.2/SATA</option>
                    <option value="mSATA">mSATA</option>
                    <option value="eMMC">eMMC</option>
                </select>
                <div class="form-text">Set this to the <b>type of the primary storage installed</b> in the device. Additions are not to be considered.</div>
            </div>
            <div class="col mb-3">
                <label for="storage_size_gb" class="form-label">Size</label>
                <div class="input-group">
                    <input type="number" class="form-control" id="storage_size_gb" name="storage_size_gb" required>
                    <span class="input-group-text">GB</span>
                </div>
                <div class="form-text">Set this to the <b>size of the primary storage installed</b> in the device. Additions are not to be counted. Use the size as advertised on the device technical specifications.</div>
            </div>
        </div>
        <h5><i class="fa-solid fa-display"></i> Display</h5>
        <div class="row">
            <div class="col mb-3">
                <label for="internal_display_type" class="form-label">Type</label>
                <select class="form-select" id="internal_display_type" name="internal_display_type">
                    <option value="">No internal display</option>
                    <option value="LCD/TN">LCD/TN</option>
                    <option value="LCD/IPS">LCD/IPS</option>
                    <option value="LCD/VA">LCD/VA</option>
                    <option value="LED/OLED">LED/OLED</option>
                    <option value="Retina">Retina</option>
                </select>
                <div class="form-text">Set this to the <b>type of the internal display</b> of the device if it has one. Else, leave it empty.</div>
            </div>
            <div class="col mb-3">
                <label for="internal_display_size_inch" class="form-label">Size</label>
                <div class="input-group">
                    <input type="number" class="form-control" id="internal_display_size_inch" name="internal_display_size_inch">
                    <span class="input-group-text">inch</span>
                </div>
                <div class="form-text">Set this to the <b>size of the internal display</b> of the device if it has one. Else, leave it empty.</div>
            </div>
            <div class="col mb-3">
                <label for="internal_display_resolution" class="form-label">Resolution (Pixels)</label>
                <div class="input-group">
                    <input type="text" class="form-control" id="internal_display_resolution_w" name="internal_display_resolution_w">
                    <span class="input-group-text">x</span>
                    <input type="text" class="form-control" id="internal_display_resolution_h" name="internal_display_resolution_h">
                    <span class="input-group-text">pixels</span>
                </div>
                <div class="form-text">Set this to the <b>resolution of the internal display</b> of the device if it has one. Use the resolution as advertised in the technical specifcations, not the configured resolution. Else, leave it empty.</div>
            </div>
            <div class="col mb-3">
                <label for="is_touchscreen" class="form-label">Touchscreen?</label>
                <select class="form-select" id="is_touchscreen" name="is_touchscreen">
                    <option value="No">No</option>
                    <option value="Yes">Yes</option>
                </select>
                <div class="form-text">Set this to Yes if the internal display of the device is a touchscreen. Else, set it to No.</div>
            </div>
        </div>
        <hr>
        <h3><i class="fa-solid fa-network-wired"></i> Network Information</h3>
        <p>
            For the following information, you can enter them in either all capital or all lower case.<br>
            <a href="#" data-bs-toggle="collapse" data-bs-target="#mac-how-to" aria-expanded="false" aria-controls="mac-how-to">How to get the MAC addresses?</a>
            <div class="collapse" id="mac-how-to">
                <div class="card card-body">
                    To retrive a list of MAC addresses in a computer, follow these steps:<br>
                    <ol>
                        <li>
                            Windows
                            <ol>
                                <li>Open Command Prompt, PowerShell, or Windows Terminal.</li>
                                <li>Type <kbd>getmac /v /fo list</kbd> and press <kbd>Enter</kbd>.</li>
                            </ol>
                        </li>
                        <li>
                            macOS
                            <ol>
                                <li>Open Terminal.</li>
                                <li>Type <kbd>ifconfig</kbd> and press <kbd>Enter</kbd>.</li>
                            </ol>
                        </li>
                        <li>
                            Linux
                            <ol>
                                <li>Open Terminal.</li>
                                <li>Type <kbd>ifconfig</kbd> and press <kbd>Enter</kbd>.</li>
                            </ol>
                    </ol>
                </div>
            </div>
            <b>Use colon <kbd>:</kbd> as the separator. Do not use dashes <kbd>-</kbd> or spaces <kbd> </kbd>.</b>
        </p>
        <div class="row">
            <div class="col mb-3">
                <label for="wireless_mac" class="form-label">Wi-Fi MAC Address</label>
                <input type="text" class="form-control" id="wireless_mac" name="wireless_mac" placeholder="xx:xx:xx:xx:xx:xx">
                <div class="form-text">Set this to the <b>Wi-Fi MAC address</b> of the device if it has one. Else, leave it empty.</div>
            </div>
            <div class="col mb-3">
                <label for="ethernet_mac" class="form-label">Ethernet MAC Address</label>
                <input type="text" class="form-control" id="ethernet_mac" name="ethernet_mac" placeholder="xx:xx:xx:xx:xx:xx">
                <div class="form-text">Set this to the <b>Ethernet MAC address</b> of the device if it has one. Else, leave it empty.</div>
            </div>
        </div>
        <button type="submit" class="btn btn-primary" formaction="/api/device/add">Add Device</button>
        <button type="reset" class="btn btn-outline-danger">Reset Form</button>
    </form>
    <div class="modal fade" id="resetModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteModalLabel">Delete Device</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to delete this device?</p>
                    <p><mark>This action cannot be undone.</mark></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" onclick="reset_form()">Delete</button>
                </div>
            </div>
        </div>  
    </div>
</div>
{% endblock %}